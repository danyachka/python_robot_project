<html>
  <head>
    <script>
      const source = new EventSource('/text_updates');

      source.onmessage = function(event) {
        const data = JSON.parse(event.data);
        document.getElementById('state').innerHTML = data.state;
        document.getElementById('listeners').innerHTML = data.listeners;
        document.getElementById('angles').innerHTML = data.angles;
        document.getElementById('arucoResult').innerHTML = data.arucoResult;
        document.getElementById('detectedAruco').innerHTML = data.detectedAruco;
      };
    </script>
  </head>
  <body>
    <img src="{{ url_for('video_feed') }}">
    <p id="state"></p>
    <p id="listeners"></p>
    <p id="angles"></p>
    <p id="arucoResult"></p>
    <p id="detectedAruco"></p>
  </body>
</html>